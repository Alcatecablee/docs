 Great News! You Already Have the Hybrid System Built!
Your codebase already has a complete queue-based architecture implemented! Here's what I found:

What's Already Set Up:
âœ… BullMQ Queue - Fully configured with Redis
âœ… Worker System - 5 concurrent workers processing jobs
âœ… Queue-based API Endpoint - Returns immediately with job ID
âœ… Background Processing - Docs generated asynchronously

The Architecture You Have:
User Request â†’ /api/generate-docs-queued â†’ Enqueue Job â†’ Return jobId (< 1s)
                                              â†“
                                        Worker picks up job
                                              â†“
                                        Generate docs (no timeout!)
                                              â†“
                                        Save to database

The Problem:
You have TWO endpoints for doc generation:

/api/generate-docs (line 185) - OLD, SLOW - Does everything synchronously âŒ
/api/generate-docs-queued (line 879) - NEW, FAST - Uses the queue âœ…
Your Vercel deployment is likely calling the OLD endpoint!

Let me check which endpoint your frontend is using:


Executed rg -n --type ts /api/generate-docs .

Decided on endpoint change
ðŸŽ¯ Found the Problem!
Your frontend is calling the WRONG endpoint. Look at these files:

Frontend calls:

src/pages/GenerationProgress.tsx â†’ /api/generate-docs âŒ
src/pages/Index.tsx â†’ /api/generate-docs âŒ
Available endpoints:

/api/generate-docs - Synchronous (times out on Vercel) âŒ
/api/generate-docs-enqueue - Queue-based (returns immediately) âœ…
The Fix (Simple!):
Step 1: Update Frontend to Use Queue Endpoint

Opened src/pages/Index.tsx

Planned documentation generation approach
Perfect! Now I'll show you exactly what to change to fix your Vercel timeout issues:

The Complete Fix
Your queue system is ready - we just need to wire up the frontend to use it! Here's what to do:

Solution Overview:
Change API endpoint from /api/generate-docs â†’ /api/generate-docs-enqueue
Poll for job status instead of waiting
Works immediately - no timeouts!
Would you like me to:

A) Implement the complete fix now - I'll update both frontend files to use the queue-based endpoint with polling